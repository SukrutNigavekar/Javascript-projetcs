<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <table>
      <tr>
        <td>
          <button>C</button>
        </td>
        <td colspan="3">
          <input type="text" />
        </td>
      </tr>
      <tr>
        <td><button>+</button></td>
        <td><button>1</button></td>
        <td><button>2</button></td>
        <td><button>3</button></td>
      </tr>
      <tr>
        <td><button>-</button></td>
        <td><button>4</button></td>
        <td><button>5</button></td>
        <td><button>6</button></td>
      </tr>
      <tr>
        <td><button>*</button></td>
        <td><button>7</button></td>
        <td><button>8</button></td>
        <td><button>9</button></td>
      </tr>
      <tr>
        <td><button>/</button></td>
        <td><button>.</button></td>
        <td><button>0</button></td>
        <td><button>=</button></td>
      </tr>
    </table>
  </body>
  <script>
    let opr = ["+","-","*","/","."]
    let table = document.querySelector("table")
    table.addEventListener("click",(event)=>{
      let targetPoint = event.target;
      let input = document.querySelector("input")
      if(targetPoint.tagName == "BUTTON"){
        let oldvalue = input.value;
        let lastChar = oldvalue[oldvalue.length-1]
        let remainingStr = oldvalue.slice(0,oldvalue.length-1)
        if(targetPoint.innerHTML == "C"){
          input.value = '';
        }
        else if(targetPoint.innerHTML == "="){
          input.value = eval(input.value)
        }
        else{

          if(opr.includes(targetPoint.innerHTML) && opr.includes(lastChar)){
            input.value=remainingStr+targetPoint.innerHTML;
          }
          else{
            input.value = oldvalue + targetPoint.innerHTML
          }         
        }
      }
    })
  </script>
</html>
